<!DOCTYPE html>
<html>
<head>
	<title>login page</title>
</head>
<body>
	<div>
		<form class="form2">
			<div>
				Email<input type="text" name="email">
			</div>
			<div>
				Password <input type="text" name="pwd">
			</div>

			<div>
				<button type="submit">submit</button>
			</div>
		</form>
	</div>

</body>

<script type="text/javascript">
	var form1=document.querySelector(".form2")
	form1.addEventListener("submit",(e)=>{
		e.preventDefault()
		let data= new FormData(e.target)
		let email=data.get("email").trim()
		let pwd=data.get("pwd").trim()
		console.log(email,pwd)
		login(email, pwd)

		// form1.reset()
		
	});
	function set_url(){
	let url='http://127.0.0.1:5000'
	return url
}


	// async function login(email,password){
	// 	url=`${set_url()}/login`
	// 	const response=await fetch(url,{
	// 		method:"POST",
	// 		headers:{
	// 			"Content-Type":"application/json"
	// 		},
	// 	})
	// }

	async function login(email,password){
	url=`${set_url()}/login`
	const response=await fetch(url,{
		method:"POST",
		headers:{
			      'Content-Type': 'application/json'
		},
		body:JSON.stringify({email,password})
	})
	const data=await response.json();
	console.log(data)

	
}
	

</script>
</html>